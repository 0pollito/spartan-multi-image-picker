!function(a){"use strict";a.fn.spartanMultiImagePicker=function(e){var n=0,i=0,t=0,o=a.extend({},{fieldName:"",groupClassName:"col-md-4 col-sm-4 col-xs-6",rowHeight:"200px",maxCount:"",onAddRow:function(){},onRenderedPreview:function(){},onRemoveRow:function(){}},e);function r(e,t){i=n;var o=e.groupClassName,r=e.rowHeight,d=e.fieldName,s=`<div class="${o}" data-spartanindexrow="${n}" style="margin-bottom : 20px;">`+`<label class="file_upload" style="width: 100%; height: ${r}; border: 2px dashed #ddd; border-radius: 3px; cursor: pointer; text-align: center; overflow: hidden; padding: 5px; margin-top: 5px; margin-bottom : 5px; position : relative; display: flex; align-items: center; margin: auto; justify-content: center; flex-direction: column;">`+`<a href="javascript:void(0)" data-spartanindexremove="${n}" style="position: absolute !important; right : 3px; top: 3px; display : none; background : #ED3C20; border-radius: 3px; width: 30px; height: 30px; line-height : 30px; text-align: center; text-decoration : none; color : #FFF;" class="spartan_remove_row">&#10006;</a>`+`<img style="width: 64px; margin: 0 auto; vertical-align: middle;" data-spartanindexi="${n}" src="image_add.png" /> `+`<img style="width: 100%; vertical-align: middle; display:none;" class="img_" data-spartanindeximage="${n}">`+`<input class="form-control spartan_image_input" accept="image/*" data-spartanindexinput="${n}" style="display : none"  name="${d}" type="file">`+"</label> </div>",l=a.parseHTML(s);a(t).append(l);++n;e.onAddRow.call()}return this.each(function(){var e=this;r(o,e),a(this).on("change",".spartan_image_input",function(){!function(e,n,i){if(n.files&&n.files[0]){var o=new FileReader;o.onload=function(t){var o=a(n).data("spartanindexinput");a(i).find('img[data-spartanindexi="'+o+'"]').hide(),a(i).find('a[data-spartanindexremove="'+o+'"]').show(),a(i).find('img[data-spartanindeximage="'+o+'"]').attr("src",t.target.result),a(i).find('img[data-spartanindeximage="'+o+'"]').show(),e.onRenderedPreview.call()},o.readAsDataURL(n.files[0]),t++,""==e.maxCount?r(e,i):""!=e.maxCount&&t<e.maxCount&&r(e,i)}}(o,this,e)}),a(this).on("click",".spartan_remove_row",function(){!function(e,n,o){var d=a(n).data("spartanindexremove");a(o).find('[data-spartanindexrow="'+d+'"]').remove(),i==d&&r(e,o),t--,e.onRemoveRow.call()}(o,this,e)})})}}(jQuery);